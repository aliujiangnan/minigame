{"version":3,"sources":["../../../../../assets/script/view/assets/script/view/GotSkinView.js"],"names":["playerInfo","require","cc","Class","extends","Component","properties","skinSpr","default","type","Sprite","ui_skin","SpriteAtlas","btnShare","Node","fromType","visible","light","start","init","skinType","spriteFrame","getSpriteFrame","stopAllActions","scale","runAction","repeatForever","sequence","delayTime","scaleTo","easing","easeQuadraticActionOut","easeQuadraticActionIn","gameInstance","sdkHelper","showAd","rotateBy","onBtnShare","soundManager","playSound","share","onBtnClose","node","active","gameView","state","stopClock"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,aAAaC,QAAQ,oBAAR,CAAjB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,iBAAQ;AACJC,qBAAQ,IADJ;AAEJC,kBAAKP,GAAGQ;AAFJ,SAhBA;AAoBRC,iBAAQ;AACJH,qBAAQ,IADJ;AAEJC,kBAAKP,GAAGU;AAFJ,SApBA;AAwBRC,kBAAS;AACLL,qBAAQ,IADH;AAELC,kBAAKP,GAAGY;AAFH,SAxBD;AA4BRC,kBAAS;AACLP,qBAAQ,CADH;AAELQ,qBAAQ;AAFH,SA5BD;AAgCRC,eAAM;AACFT,qBAAQ,IADN;AAEFC,kBAAKP,GAAGY;AAFN;AAhCE,KAHP;;AAyCL;;AAEA;;AAEAI,SA7CK,mBA6CI,CACR,CA9CI;AAgDLC,QAhDK,gBAgDAC,QAhDA,EAgDUL,QAhDV,EAgDmB;AACpB,aAAKA,QAAL,GAAgBA,QAAhB;AACA,aAAKR,OAAL,CAAac,WAAb,GAA2B,KAAKV,OAAL,CAAaW,cAAb,CAA4B,WAASF,QAArC,CAA3B;;AAEA,aAAKP,QAAL,CAAcU,cAAd;AACA,aAAKV,QAAL,CAAcW,KAAd,GAAsB,CAAtB;AACA,aAAKX,QAAL,CAAcY,SAAd,CAAwBvB,GAAGwB,aAAH,CAAiBxB,GAAGyB,QAAH,CACrCzB,GAAG0B,SAAH,CAAa,EAAb,CADqC,EAErC1B,GAAG2B,OAAH,CAAW,GAAX,EAAgB,GAAhB,EAAqBC,MAArB,CAA4B5B,GAAG6B,sBAAH,CAA0B,CAA1B,CAA5B,CAFqC,EAGrC7B,GAAG2B,OAAH,CAAW,GAAX,EAAgB,GAAhB,EAAqBC,MAArB,CAA4B5B,GAAG8B,qBAAH,CAAyB,CAAzB,CAA5B,CAHqC,EAIrC9B,GAAG2B,OAAH,CAAW,GAAX,EAAgB,GAAhB,EAAqBC,MAArB,CAA4B5B,GAAG6B,sBAAH,CAA0B,CAA1B,CAA5B,CAJqC,EAKrC7B,GAAG2B,OAAH,CAAW,GAAX,EAAgB,GAAhB,EAAqBC,MAArB,CAA4B5B,GAAG8B,qBAAH,CAAyB,CAAzB,CAA5B,CALqC,EAMrC9B,GAAG0B,SAAH,CAAa,GAAb,CANqC,CAAjB,CAAxB;;AASAK,qBAAaC,SAAb,CAAuBC,MAAvB,CAA8B,CAA9B;;AAEA,aAAKlB,KAAL,CAAWM,cAAX;AACA,aAAKN,KAAL,CAAWQ,SAAX,CAAqBvB,GAAGwB,aAAH,CAAiBxB,GAAGkC,QAAH,CAAY,CAAZ,EAAc,GAAd,CAAjB,CAArB;AACH,KAnEI;AAqELC,cArEK,wBAqEO;AACRJ,qBAAaK,YAAb,CAA0BC,SAA1B,CAAoC,KAApC;AACAN,qBAAaC,SAAb,CAAuBM,KAAvB;AACH,KAxEI;AA0ELC,cA1EK,wBA0EO;AACRR,qBAAaK,YAAb,CAA0BC,SAA1B,CAAoC,KAApC;AACA,aAAKG,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACA,YAAG,KAAK5B,QAAL,IAAiB,CAApB,EAAsB;AAClBkB,yBAAaW,QAAb,CAAsBC,KAAtB,GAA8B,SAA9B;AACAZ,yBAAaK,YAAb,CAA0BQ,SAA1B;AACH;AACDb,qBAAaC,SAAb,CAAuBC,MAAvB,CAA8B,CAA9B;AACH;AAlFI,CAAT","file":"GotSkinView.js","sourceRoot":"../../../../../assets/script/view","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nvar playerInfo = require(\"../game/PlayerInfo\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n        skinSpr:{\n            default:null,\n            type:cc.Sprite,\n        },\n        ui_skin:{\n            default:null,\n            type:cc.SpriteAtlas,\n        },\n        btnShare:{\n            default:null,\n            type:cc.Node,\n        },\n        fromType:{\n            default:1,\n            visible:false,\n        },\n        light:{\n            default:null,\n            type:cc.Node,\n        }\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n    },\n    \n    init(skinType, fromType){\n        this.fromType = fromType;\n        this.skinSpr.spriteFrame = this.ui_skin.getSpriteFrame(\"skin_p\"+skinType);\n\n        this.btnShare.stopAllActions();\n        this.btnShare.scale = 1;\n        this.btnShare.runAction(cc.repeatForever(cc.sequence(\n            cc.delayTime(.5),\n            cc.scaleTo(0.1, 1.2).easing(cc.easeQuadraticActionOut(3)),\n            cc.scaleTo(0.1, 1.1).easing(cc.easeQuadraticActionIn(3)),\n            cc.scaleTo(0.1, 1.2).easing(cc.easeQuadraticActionOut(3)),\n            cc.scaleTo(0.1, 1.1).easing(cc.easeQuadraticActionIn(3)),\n            cc.delayTime(1.5),\n        )))\n\n        gameInstance.sdkHelper.showAd(0);\n\n        this.light.stopAllActions();\n        this.light.runAction(cc.repeatForever(cc.rotateBy(5,180)));\n    },\n\n    onBtnShare(){\n        gameInstance.soundManager.playSound(\"btn\");\n        gameInstance.sdkHelper.share()\n    },\n\n    onBtnClose(){\n        gameInstance.soundManager.playSound(\"btn\");\n        this.node.active = false;\n        if(this.fromType == 2){\n            gameInstance.gameView.state = \"running\";\n            gameInstance.soundManager.stopClock();\n        }\n        gameInstance.sdkHelper.showAd(0);\n    },\n});\n"]}