{"version":3,"sources":["../../../../../assets/script/view/assets/script/view/LevelBar.js"],"names":["cc","Class","extends","Component","properties","boxes","default","type","Sprite","bosses","Node","bgs","labeles","Label","start","init","i","length","index","node","active","info","gameInstance","levelesInfo","enabled","hasBoss","string","parentNo","selfNo","move","posX","box","x","levelIndex","gameView","runAction","moveTo","v2","easing","easeQuinticActionOut","spawn","scaleTo","reset","scale"],"mappings":"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","file":"LevelBar.js","sourceRoot":"../../../../../assets/script/view","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n        boxes:{\n            default:[],\n            type:[cc.Sprite],\n        },\n        bosses:{\n            default:[],\n            type:[cc.Node],\n        },\n        bgs:{\n            default:[],\n            type:[cc.Node],\n        },\n        labeles:{\n            default:[],\n            type:[cc.Label],\n        },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n    },\n    \n    init(){\n        for(let i = 0; i < this.boxes.length; ++i){\n            this.boxes[i].index = i;\n            if(i < 3){\n                this.boxes[i].node.active = false;\n            }\n            else{\n                let info = gameInstance.levelesInfo[i - 3][0];\n                this.boxes[i].enabled = i == 3;\n                this.bosses[i].active = info.hasBoss == \"true\";\n                this.bgs[i].active = true;\n                this.labeles[i].string = info.parentNo + \"-\" + info.selfNo;\n            }\n        }\n    },\n\n    move(){\n        let posX = [-255, -175,-95,0,95,175];\n        for(let i = 0; i < this.boxes.length; ++i){\n            let box = this.boxes[i];\n            let index = box.index;\n            index--;\n            if(index < 0) {\n                index = 5;\n                box.node.x = 270;\n                box.node.active = true;\n                let levelIndex = gameInstance.gameView.levelIndex;\n                let info = gameInstance.levelesInfo[levelIndex + 2][0];\n                this.bosses[i].active = info.hasBoss == \"true\";\n                this.bgs[i].active = true;\n                this.labeles[i].string = info.parentNo + \"-\" + info.selfNo;\n                box.node.runAction(cc.moveTo(.3,cc.v2(175, 0))).easing(cc.easeQuinticActionOut());\n            }\n            else{\n                box.enabled = index == 3;\n                box.node.runAction(cc.spawn(\n                    cc.moveTo(.3,cc.v2(posX[index],0)).easing(cc.easeQuinticActionOut()),\n                    cc.scaleTo(.2,index == 3 ? 1 : .75),\n                ))\n            }\n            box.index = index;\n        }\n    },\n    \n    reset(){\n        let posX = [-255, -175,-95,0,95,175];\n        for(let i = 0; i < this.boxes.length; ++i){\n            this.boxes[i].node.x = posX[i];\n            this.boxes[i].node.scale = i == 2 ? 1 : .75;\n        }\n    }\n});\n"]}